test --test_output=streamed

common --enable_bzlmod
common --nolegacy_important_outputs

# Try to prevent sandbox escape (https://github.com/bazelbuild/rules_python/issues/1059)
build --action_env=PYTHONNOUSERSITE=1

build --cxxopt='-std=c++20'

# Convenient flag shortcuts.
build --flag_alias=enable_cuda=@rules_cuda//cuda:enable
build --flag_alias=cuda_archs=@rules_cuda//cuda:archs
build --flag_alias=cuda_compiler=@rules_cuda//cuda:compiler
build --flag_alias=cuda_copts=@rules_cuda//cuda:copts
build --flag_alias=cuda_host_copts=@rules_cuda//cuda:host_copts
build --flag_alias=cuda_runtime=@rules_cuda//cuda:runtime

build --cuda_copts='-std=c++20'
build --cuda_archs=sm_90  # H100
